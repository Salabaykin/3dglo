(()=>{"use strict";const e=function(e){var t=document.getElementById(e);t.addEventListener("input",(function(e){var t=e.target;t.matches(".form-phone")?t.value=t.value.replace(/[^\+\d]/g,""):t.matches(".form-name")||t.matches("#form2-name")?t.value=t.value.replace(/[^А-Яа-яЁё\- ]/gi,""):t.matches(".mess")?t.value=t.value.replace(/[^0-9А-Яа-яЁё\s!,-?:;""()]/gi,""):t.matches(".form-email")&&(/^[\w\-]{2,}@\w{2,}\.\w{2,}$/i.test(t.value)?t.style="border:none;":t.style="border:3px solid red;")}));var n=document.createElement("div");t.addEventListener("submit",(function(e){e.preventDefault(),t.append(n),n.innerHTML='<img src="images/142.gif">',n.style.color="#fff";var c=new FormData(t);o(c).then((function(e){if(200!==e.status)throw new Error("Status network not 200");n.textContent="Спасибо! Мы скоро с вами свяжемся",setTimeout((function(){document.querySelector(".popup").style="display:none;",t.removeChild(n)}),3e3)})).catch((function(e){return console.error(e)})).finally((function(){return t.reset()}))}));var o=function(e){return fetch("./server.php",{method:"POST",cache:"default",headers:{"Content-Type":"application/json"},body:e,credentials:"include"})}};var t,n,o,c,r,a,l,s,u;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");t.textContent="00",n.textContent="00",o.textContent="00";var c=function(){var e,c,a,l=(e=(new Date("10 January 2021").getTime()-(new Date).getTime())/1e3,c=Math.floor(e%60),a=Math.floor(e/60%60),{hours:Math.floor(e/60/60),minutes:a,seconds:c,timeRemaining:e});t.textContent=l.hours<=9&&l.hours>=0?"0".concat(l.hours):l.hours,n.textContent=l.minutes<=9&&l.minutes>=0?"0".concat(l.minutes):l.minutes,o.textContent=l.seconds<=9&&l.seconds>=0?"0".concat(l.seconds):l.seconds,l.hours<0&&(clearInterval(r),t.textContent="00",n.textContent="00",o.textContent="00")},r=setInterval(c,1e3);c()})(),s=document.querySelector(".menu"),u=document.querySelector("menu"),document.querySelector(".close-btn"),u.querySelectorAll("ul > li"),u.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("close-btn")||(t=t.closest("menu")))&&u.classList.toggle("active-menu")})),s.addEventListener("click",(function(){u.classList.toggle("active-menu")})),c=document.querySelector(".popup"),r=c.querySelector(".popup-content"),a=document.querySelectorAll(".popup-btn"),l=100,a.forEach((function(e){e.addEventListener("click",(function(){if(document.documentElement.clientWidth>768)var e=setInterval((function(){--l>=0?(c.style="display: block;",r.style="transform: translateY(".concat(l,"%);")):(clearInterval(e),l=100)}),4);else c.style="display: block"}))})),c.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?c.style.display="none":(t=t.closest(".popup-content"))||(c.style.display="none")})),t=document.querySelector(".service-header"),n=t.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab"),t.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&n.forEach((function(e,c){e===t&&function(e){for(var t=0;t<o.length;t++)e===t?(n[t].classList.add("active"),o[t].classList.remove("d-none")):(n[t].classList.remove("active"),o[t].classList.add("d-none"))}(c)}))})),document.querySelectorAll(".command__photo").forEach((function(e){var t;e.addEventListener("mouseenter",(function(e){t=e.target.src,e.target.src=e.target.dataset.img})),e.addEventListener("mouseleave",(function(e){e.target.src=t}))})),function(){for(var e,t,n=document.querySelector(".portfolio-content"),o=document.querySelectorAll(".portfolio-item"),c=document.querySelector(".portfolio-dots"),r=(document.querySelectorAll(".portfolio-btn"),0),a=0;a<o.length;a++){var l=document.createElement("li");l.classList.add("dot"),c.append(l)}(t=document.querySelectorAll(".dot"))[0].classList.add("dot-active");var s=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},i=function(){s(o,r,"portfolio-item-active"),s(t,r,"dot-active"),++r>=o.length&&(r=0),u(o,r,"portfolio-item-active"),u(t,r,"dot-active")},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;e=setInterval(i,t)};n.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(s(o,r,"portfolio-item-active"),s(t,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&t.forEach((function(e,t){e===n&&(r=t)})),r>=o.length&&(r=0),r<0&&(r=o.length-1),u(o,r,"portfolio-item-active"),u(t,r,"dot-active"))})),n.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(2e3)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll(".calc-block > input");t.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))}));var n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),c=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),l=document.getElementById("total"),s=function(){var t=0,n=1,s=1,u=1,i=o.options[o.selectedIndex].value,d=+c.value;r.value>1&&(n+=(r.value-1)/10),a.value&&a.value<5?s*=2:a.value&&a.value<10&&(s*=1.5),i&&d&&(t=e*i*d*n*s);var m=setInterval((function(){u<t?(u*=2,l.textContent=u):""===i||""===c.value?(l.textContent=0,clearInterval(m)):clearInterval(m)}),35)};n.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&s()}))}(100),e("form1"),e("form2"),e("form3")})();